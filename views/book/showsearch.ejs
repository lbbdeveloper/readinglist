<%- include('../partials/html-head.ejs') %>
<main class="homePage">
  <%- include('../partials/nav') %>

  <div class="container-fluid">
    <div
      class="row row-cols-1 row-cols-sm-3 row-cols-md-3 row-cols-lg-4 g-sm-2 g-md-3 g-lg-4"
    >
      <% results?.forEach((book) => { %>

      <div class="col">
        <div class="card mx-auto mt-3" style="width: 18rem">
          <div class="d-flex justify-content-between p-1">
            <div></div>
            <a class="btn btn-outline-warning" href="/book/api/<%= book.id %>">
              •••
            </a>
          </div>
          <img
            src="<%= book.volumeInfo?.imageLinks?.thumbnail %> "
            class="card-img-top"
            alt="Placeholder Img"
          />
          <h5 class="card-title text-center"><%= book.volumeInfo.title %></h5>
          <p class="mb-0 text-center">Authors</p>
          <p class="mb-1 text-center"><%= book.volumeInfo.authors %></p>
          <p class="mb-0 text-center custom-text">Description</p>
          <% if (book.volumeInfo.description?.length > 30) { %>
          <p class="mb-3 text-center custom-text">
            <%= book.volumeInfo.description.substring(0,30) + "..." %>
          </p>
          <% } else { %>
          <p class="mb-3 text-center custom-text">
            <%= book.volumeInfo.description %>
          </p>
          <% } %>
        </div>
      </div>
      <% }) %>
    </div>
  </div>
</main>
<%- include('../partials/footer.ejs') %>
